from job_search import load_config, save_offers, search_for_offers
from bs4 import BeautifulSoup


def test_load_config():
    assert load_config() != None

def test_save_offers():
    assert save_offers([]) == None

# def test_scope_offers():
#     soup = BeautifulSoup(open("test_scrapper/Job Offers IT - Just Join IT.html"), 'html.parser')
#     offers = soup.find_all('div', class_='css-2crog7')
#     assert scope_offers(offers) == [{'title': 'Senior Cloud DevOps Engineer', 'url': 'https://justjoin.it/https://justjoin.it/offers/ligo-headhunters-senior-cloud-devops-engineer-warszawa-devops', 'salary': '24 000 - 33 000 pln', 'localization': 'Warszawa', 'is_remote': False, 'skills': ['Azure DevOps', 'Git', 'Bash']}, {'title': 'Data Solutions Manager', 'url': 'https://justjoin.it/https://justjoin.it/offers/enterium-sp-z-o-o-data-solutions-manager', 'salary': 'Undisclosed Salary', 'localization': 'Chorzów, +2Locations', 'is_remote': False, 'skills': ['Project Management', 'ETL', 'API']}, {'title': 'Senior Data Engineer', 'url': 'https://justjoin.it/https://justjoin.it/offers/circle-k-business-centre-senior-backend-developer-and-data-engineering-specialist-legionowo', 'salary': 'Undisclosed Salary', 'localization': 'Legionowo, +1Location', 'is_remote': False, 'skills': ['ETL', 'SQL', 'AWS']}, {'title': 'Manual Tester', 'url': 'https://justjoin.it/https://justjoin.it/offers/travactory-n-v-manual-tester', 'salary': '10 000 - 17 000 pln', 'localization': 'Gdańsk', 'is_remote': False, 'skills': ['REST API', 'SOAP', 'Postman']}, {'title': 'Engineering Manager', 'url': 'https://justjoin.it/https://justjoin.it/offers/rite-nrg-engineering-manager-krakow-387713', 'salary': '38 000 - 45 000 pln', 'localization': 'Kraków, +3Locations', 'is_remote': False, 'skills': ['English', 'Kotlin', 'Java']}, {'title': 'Chapter Lead Technology Specialist - Full Stack', 'url': 'https://justjoin.it/https://justjoin.it/offers/heineken-chapter-lead-technology-specialist-full-stack-krakow-388515', 'salary': 'Undisclosed Salary', 'localization': 'Kraków', 'is_remote': False, 'skills': ['.Net', 'DevOps', 'Scrum']}, {'title': 'Team Lead Web Development', 'url': 'https://justjoin.it/https://justjoin.it/offers/josera-expert-lead-web-development-nowy-tomysl-data', 'salary': 'Undisclosed Salary', 'localization': 'Nowy Tomyśl, +9Locations', 'is_remote': False, 'skills': ['Data Lake', 'Data Platform', 'SQL / NoSQL']}, {'title': 'Senior DevOps Engineer', 'url': 'https://justjoin.it/https://justjoin.it/offers/j-labs-senior-devops-engineer-wroclaw', 'salary': '26 000 - 33 500 pln', 'localization': 'Wrocław, +9Locations', 'is_remote': False, 'skills': ['Kubernetes', 'Docker', 'GCP']}, {'title': 'Senior/Lead Front-end Developer', 'url': 'https://justjoin.it/https://justjoin.it/offers/sopra-steria-senior-lead-front-end-developer-katowice-javascript', 'salary': '15 000 - 24 000 pln', 'localization': 'Katowice, +3Locations', 'is_remote': False, 'skills': ['AngularJS', 'JavaScript', 'Linux']}, {'title': 'Backend Developer Rust', 'url': 'https://justjoin.it/https://justjoin.it/offers/connectis-backend-developer-rust-warszawa-other', 'salary': 'Undisclosed Salary', 'localization': 'Warszawa, +2Locations', 'is_remote': False, 'skills': ['Java', 'Rust']}, {'title': 'Summer Internship - Mobile App Android Team', 'url': 'https://justjoin.it/https://justjoin.it/offers/payback-summer-internship-mobile-app-android-team', 'salary': 'Undisclosed Salary', 'localization': 'Warszawa, +9Locations', 'is_remote': False, 'skills': ['English', 'RxJava', 'Kotlin']}, {'title': 'Fullstack Developer – Java with React', 'url': 'https://justjoin.it/https://justjoin.it/offers/sii-fullstack-developer-java-with-react-warszawa-java', 'salary': '20 000 - 28 000 pln', 'localization': 'Warszawa', 'is_remote': False, 'skills': ['React', 'Java', 'Kubernetes']}, {'title': 'Senior Software Engineer - Data Clean Rooms', 'url': 'https://justjoin.it/https://justjoin.it/offers/snowflake-senior-software-engineer-data-clean-rooms', 'salary': '30 000 - 60 000 pln', 'localization': 'Warszawa', 'is_remote': False, 'skills': ['Java', 'CI/CD', 'SQL']}, {'title': 'Senior Fullstack .NET Developer', 'url': 'https://justjoin.it/https://justjoin.it/offers/sigma-it-poland-senior-fullstack-net-developer-warszawa-387789', 'salary': '21 840 - 25 200 pln', 'localization': 'Warszawa, +7Locations', 'is_remote': False, 'skills': ['Payment Integration', 'EpiServer', '.Net']}, {'title': 'Regular IT Project Manager', 'url': 'https://justjoin.it/https://justjoin.it/offers/wecode-agency-regular-it-project-manager-poznan-385737', 'salary': '12 000 - 18 000 pln', 'localization': 'Poznań, +2Locations', 'is_remote': False, 'skills': ['Polish', 'Project Management', 'self-reliance']}, {'title': 'Associate Director, Software Engineer', 'url': 'https://justjoin.it/https://justjoin.it/offers/s-p-global-associate-director-software-engineer', 'salary': '20 000 - 28 000 pln', 'localization': 'Gdańsk, +3Locations', 'is_remote': False, 'skills': ['Python', 'C#', '.NET Core']}, {'title': 'Head of Growth', 'url': 'https://justjoin.it/https://justjoin.it/offers/deviniti-head-of-growth-warszawa', 'salary': 'Undisclosed Salary', 'localization': 'Warszawa, +2Locations', 'is_remote': False, 'skills': ['Communication Skills', 'B2B Sales']}, {'title': 'Backend Engineer – ReadyAPI', 'url': 'https://justjoin.it/https://justjoin.it/offers/smartbear-backend-engineer-readyapi', 'salary': '17 000 - 21 000 pln', 'localization': 'Wrocław, +9Locations', 'is_remote': False, 'skills': ['Docker', 'Maven', 'REST API']}, {'title': 'Software Engineer (Innovation Team)', 'url': 'https://justjoin.it/https://justjoin.it/offers/ardentcode-software-engineer-innovation-team', 'salary': '15 000 - 18 000 pln', 'localization': 'Wrocław, +4Locations', 'is_remote': False, 'skills': ['React', 'TypeScript', 'AWS']}, {'title': 'Senior AI/ML Engineer', 'url': 'https://justjoin.it/https://justjoin.it/offers/sii-senior-ai-ml-engineer-rzeszow', 'salary': '18 000 - 36 000 pln', 'localization': 'Rzeszów, +16Locations', 'is_remote': False, 'skills': ['Machine Learning/ AI', 'Python', 'AWS']}]


def test_search_for_offers():
    
    search_for_offers(load_config())