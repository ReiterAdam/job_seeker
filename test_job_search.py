from job_seeker import load_config, save_offers, search_for_offers
from classes.justjoinit import JustJoinIT
from classes.solidjobs import SolidJobs
from bs4 import BeautifulSoup


def test_load_config():
    assert load_config() != None


def test_save_offers():
    assert save_offers([]) == None


# def test_search_for_offers():
    
#     search_for_offers(load_config())


def test_justjoin_it_scope():
    soup = BeautifulSoup(open("test_scrapper/Job Offers IT - Just Join IT.html"), 'html.parser')
    offers = soup.find_all('div', class_='css-2crog7')
    assert JustJoinIT.scope_offers(offers) == [{'title': 'Senior Cloud DevOps Engineer', 'url': 'https://justjoin.it/https://justjoin.it/offers/ligo-headhunters-senior-cloud-devops-engineer-warszawa-devops', 'salary': '24 000 - 33 000 pln', 'localization': 'Warszawa', 'is_remote': False, 'skills': ['Azure DevOps', 'Git', 'Bash']}, {'title': 'Data Solutions Manager', 'url': 'https://justjoin.it/https://justjoin.it/offers/enterium-sp-z-o-o-data-solutions-manager', 'salary': 'Undisclosed Salary', 'localization': 'Chorzów, +2Locations', 'is_remote': False, 'skills': ['Project Management', 'ETL', 'API']}, {'title': 'Senior Data Engineer', 'url': 'https://justjoin.it/https://justjoin.it/offers/circle-k-business-centre-senior-backend-developer-and-data-engineering-specialist-legionowo', 'salary': 'Undisclosed Salary', 'localization': 'Legionowo, +1Location', 'is_remote': False, 'skills': ['ETL', 'SQL', 'AWS']}, {'title': 'Manual Tester', 'url': 'https://justjoin.it/https://justjoin.it/offers/travactory-n-v-manual-tester', 'salary': '10 000 - 17 000 pln', 'localization': 'Gdańsk', 'is_remote': False, 'skills': ['REST API', 'SOAP', 'Postman']}, {'title': 'Engineering Manager', 'url': 'https://justjoin.it/https://justjoin.it/offers/rite-nrg-engineering-manager-krakow-387713', 'salary': '38 000 - 45 000 pln', 'localization': 'Kraków, +3Locations', 'is_remote': False, 'skills': ['English', 'Kotlin', 'Java']}, {'title': 'Chapter Lead Technology Specialist - Full Stack', 'url': 'https://justjoin.it/https://justjoin.it/offers/heineken-chapter-lead-technology-specialist-full-stack-krakow-388515', 'salary': 'Undisclosed Salary', 'localization': 'Kraków', 'is_remote': False, 'skills': ['.Net', 'DevOps', 'Scrum']}, {'title': 'Team Lead Web Development', 'url': 'https://justjoin.it/https://justjoin.it/offers/josera-expert-lead-web-development-nowy-tomysl-data', 'salary': 'Undisclosed Salary', 'localization': 'Nowy Tomyśl, +9Locations', 'is_remote': False, 'skills': ['Data Lake', 'Data Platform', 'SQL / NoSQL']}, {'title': 'Senior DevOps Engineer', 'url': 'https://justjoin.it/https://justjoin.it/offers/j-labs-senior-devops-engineer-wroclaw', 'salary': '26 000 - 33 500 pln', 'localization': 'Wrocław, +9Locations', 'is_remote': False, 'skills': ['Kubernetes', 'Docker', 'GCP']}, {'title': 'Senior/Lead Front-end Developer', 'url': 'https://justjoin.it/https://justjoin.it/offers/sopra-steria-senior-lead-front-end-developer-katowice-javascript', 'salary': '15 000 - 24 000 pln', 'localization': 'Katowice, +3Locations', 'is_remote': False, 'skills': ['AngularJS', 'JavaScript', 'Linux']}, {'title': 'Backend Developer Rust', 'url': 'https://justjoin.it/https://justjoin.it/offers/connectis-backend-developer-rust-warszawa-other', 'salary': 'Undisclosed Salary', 'localization': 'Warszawa, +2Locations', 'is_remote': False, 'skills': ['Java', 'Rust']}, {'title': 'Summer Internship - Mobile App Android Team', 'url': 'https://justjoin.it/https://justjoin.it/offers/payback-summer-internship-mobile-app-android-team', 'salary': 'Undisclosed Salary', 'localization': 'Warszawa, +9Locations', 'is_remote': False, 'skills': ['English', 'RxJava', 'Kotlin']}, {'title': 'Fullstack Developer – Java with React', 'url': 'https://justjoin.it/https://justjoin.it/offers/sii-fullstack-developer-java-with-react-warszawa-java', 'salary': '20 000 - 28 000 pln', 'localization': 'Warszawa', 'is_remote': False, 'skills': ['React', 'Java', 'Kubernetes']}, {'title': 'Senior Software Engineer - Data Clean Rooms', 'url': 'https://justjoin.it/https://justjoin.it/offers/snowflake-senior-software-engineer-data-clean-rooms', 'salary': '30 000 - 60 000 pln', 'localization': 'Warszawa', 'is_remote': False, 'skills': ['Java', 'CI/CD', 'SQL']}, {'title': 'Senior Fullstack .NET Developer', 'url': 'https://justjoin.it/https://justjoin.it/offers/sigma-it-poland-senior-fullstack-net-developer-warszawa-387789', 'salary': '21 840 - 25 200 pln', 'localization': 'Warszawa, +7Locations', 'is_remote': False, 'skills': ['Payment Integration', 'EpiServer', '.Net']}, {'title': 'Regular IT Project Manager', 'url': 'https://justjoin.it/https://justjoin.it/offers/wecode-agency-regular-it-project-manager-poznan-385737', 'salary': '12 000 - 18 000 pln', 'localization': 'Poznań, +2Locations', 'is_remote': False, 'skills': ['Polish', 'Project Management', 'self-reliance']}, {'title': 'Associate Director, Software Engineer', 'url': 'https://justjoin.it/https://justjoin.it/offers/s-p-global-associate-director-software-engineer', 'salary': '20 000 - 28 000 pln', 'localization': 'Gdańsk, +3Locations', 'is_remote': False, 'skills': ['Python', 'C#', '.NET Core']}, {'title': 'Head of Growth', 'url': 'https://justjoin.it/https://justjoin.it/offers/deviniti-head-of-growth-warszawa', 'salary': 'Undisclosed Salary', 'localization': 'Warszawa, +2Locations', 'is_remote': False, 'skills': ['Communication Skills', 'B2B Sales']}, {'title': 'Backend Engineer – ReadyAPI', 'url': 'https://justjoin.it/https://justjoin.it/offers/smartbear-backend-engineer-readyapi', 'salary': '17 000 - 21 000 pln', 'localization': 'Wrocław, +9Locations', 'is_remote': False, 'skills': ['Docker', 'Maven', 'REST API']}, {'title': 'Software Engineer (Innovation Team)', 'url': 'https://justjoin.it/https://justjoin.it/offers/ardentcode-software-engineer-innovation-team', 'salary': '15 000 - 18 000 pln', 'localization': 'Wrocław, +4Locations', 'is_remote': False, 'skills': ['React', 'TypeScript', 'AWS']}, {'title': 'Senior AI/ML Engineer', 'url': 'https://justjoin.it/https://justjoin.it/offers/sii-senior-ai-ml-engineer-rzeszow', 'salary': '18 000 - 36 000 pln', 'localization': 'Rzeszów, +16Locations', 'is_remote': False, 'skills': ['Machine Learning/ AI', 'Python', 'AWS']}]


def test_solid_jobs_scope():
    soup = BeautifulSoup(open("test_scrapper/SOLID.Jobs – Platforma rekrutacyjna dla specjalistów.html"), 'html.parser')
    offers = soup.find_all('offer-list-item')
    assert SolidJobs.scope_offers(offers) == [{'title': 'AI / NLP Software Engineer', 'url': 'https://solid.jobs/https://solid.jobs/offer/18415/hro-digital-verita-hr-ai-nlp-software-engineer', 'salary': ' 17.0k–25.0k PLN ', 'localization': 'Rondo Daszyńskiego, Warszawa', 'is_remote': False, 'skills': ['# LLM', '# Python', '# ML', '# Data Structures', '# C++', '# AI']}, {'title': 'C++ Embedded Developer (Autosar / Automotive)', 'url': 'https://solid.jobs/https://solid.jobs/offer/17932/1dea-cplusplus-embedded-developer-autosar-automotive', 'salary': ' 24.4k–27.7k PLN ', 'localization': '100% zdalnie (Warszawa)', 'is_remote': True, 'skills': ['# C++', '# Embedded development', '# Autosar', '# QNX OS', '# Python']}, {'title': 'Senior NLP Engineer', 'url': 'https://solid.jobs/https://solid.jobs/offer/17922/sigmoidal-senior-nlp-engineer', 'salary': ' 31.0k–37.0k PLN ', 'localization': '100% zdalnie (Warszawa)', 'is_remote': True, 'skills': ['# Python', '# NLP', '# AI', '# Data science']}, {'title': 'Software Vulnerability Machine Learning Engineer', 'url': 'https://solid.jobs/https://solid.jobs/offer/17918/mindbox-software-vulnerability-machine-learning-engineer', 'salary': ' 27.3k–30.7k PLN ', 'localization': 'Złota 59, Warszawa', 'is_remote': False, 'skills': ['# Java', '# Python', '# SQL', '# Big Data', '# ML', '# GCP', '# Looker', '# DevOps', '# Big Query', '# Spanner', '# RegX', '# OWASP']}, {'title': 'Mid/Senior Data Engineer', 'url': 'https://solid.jobs/https://solid.jobs/offer/17919/next-technology-professionals-mid-senior-data-engineer', 'salary': ' 20.0k–27.0k PLN ', 'localization': 'Centrum, Warszawa', 'is_remote': False, 'skills': ['# GCP', '# Airflow', '# SQL', '# ETL', '# Python']}, {'title': 'Senior Data Engineer (Python / Snowflake)', 'url': 'https://solid.jobs/https://solid.jobs/offer/17404/1dea-senior-data-engineer-python-snowflake', 'salary': ' 23.5k–26.9k PLN ', 'localization': '100% zdalnie (Warszawa)', 'is_remote': True, 'skills': ['# Data modeling', '# SQL', '# Snowflake', '# Python', '# AWS', '# GitLab', '# Spark', '# Airflow']}, {'title': 'Fullstack Engineer (Python)', 'url': 'https://solid.jobs/https://solid.jobs/offer/18408/mindbox-fullstack-engineer-python', 'salary': ' 26.0k–32.0k PLN ', 'localization': '100% zdalnie (Kraków)', 'is_remote': True, 'skills': ['# Python', '# FastAPI', '# Async programming', '# pytest', '# SQL', '# Design patterns', '# Jenkins', '# Kafka', '# Message queues']}, {'title': 'Golang Developer', 'url': 'https://solid.jobs/https://solid.jobs/offer/17401/hro-digital-golang-developer', 'salary': ' 14.0k–20.0k PLN ', 'localization': 'Wadowicka 3A, Kraków', 'is_remote': False, 'skills': ['# Golang', '# Python', '# SQL', '# Flask', '# Django', '# Docker', '# Kubernetes', '# Cybersecurity']}, {'title': 'Data Engineer (Snowflake)', 'url': 'https://solid.jobs/https://solid.jobs/offer/18286/britenet-data-engineer-snowflake', 'salary': ' 21.8k–26.8k PLN ', 'localization': '100% zdalnie (Warszawa)', 'is_remote': True, 'skills': ['# Tableau', '# SQL', '# Python', '# Snowflake', '# Reverse engineering', '# GCP', '# Spark']}, {'title': 'Marketing Automation Engineer', 'url': 'https://solid.jobs/https://solid.jobs/offer/17390/pp-solutions-marketing-automation-engineer', 'salary': ' 13.4k–21.8k PLN ', 'localization': '100% zdalnie (Warszawa)', 'is_remote': True, 'skills': ['# Python', '# SASS', '# Salesforce', '# SQL', '# REST', '# Azure', '# HTML/CSS']}, {'title': 'Senior Integration Specialist (Java | C++)', 'url': 'https://solid.jobs/https://solid.jobs/offer/16773/1dea-senior-integration-specialist-java--cplusplus', 'salary': ' 31.9k–35.3k PLN ', 'localization': '100% zdalnie (Warszawa)', 'is_remote': True, 'skills': ['# Java', '# C++', '# REST', '# SOAP', '# XML', '# C#', '# Python', '# PHP']}, {'title': 'Site Reliability Engineer', 'url': 'https://solid.jobs/https://solid.jobs/offer/17382/arche-consulting-site-reliability-engineer', 'salary': ' 13.0k–26.0k PLN ', 'localization': 'Nowy Świat, Warszawa', 'is_remote': False, 'skills': ['# Java', '# Python', '# DevOps', '# Kubernetes']}, {'title': 'Site Reliability Engineer (Big Data)', 'url': 'https://solid.jobs/https://solid.jobs/offer/17383/arche-consulting-site-reliability-engineer-big-data', 'salary': ' 13.0k–26.0k PLN ', 'localization': 'Nowy Świat, Warszawa', 'is_remote': False, 'skills': ['# Hadoop', '# Kafka', '# Linux', '# Java', '# Python']}, {'title': 'ETL Developer', 'url': 'https://solid.jobs/https://solid.jobs/offer/17374/hro-digital-etl-developer', 'salary': ' 23.1k–29.4k PLN ', 'localization': 'Wadowicka 3, Kraków', 'is_remote': False, 'skills': ['# PySpark', '# ETL', '# Python', '# SQL']}, {'title': 'Data Engineer (przetwarzanie mowy)', 'url': 'https://solid.jobs/https://solid.jobs/offer/17878/speedapp-data-engineer-przetwarzanie-mowy', 'salary': ' 16.0k–22.0k PLN ', 'localization': 'Bracka 25, Warszawa', 'is_remote': False, 'skills': ['# Python', '# Linux', '# NLP']}, {'title': 'Network Developer', 'url': 'https://solid.jobs/https://solid.jobs/offer/17447/human4human-recruitment-network-developer', 'salary': ' 22.0k–25.0k PLN ', 'localization': 'Centrum, Gdańsk', 'is_remote': False, 'skills': ['# Ethernet', '# Network protocols', '# C', '# Python']}, {'title': 'Fullstack Developer (Python)', 'url': 'https://solid.jobs/https://solid.jobs/offer/17783/itfs-fullstack-developer-python', 'salary': ' 21.0k–24.4k PLN ', 'localization': '100% zdalnie (Gdynia)', 'is_remote': True, 'skills': ['# Python', '# Next.js', '# React', '# REST', '# Flask', '# Django']}, {'title': 'Data Engineer', 'url': 'https://solid.jobs/https://solid.jobs/offer/17872/sqaure-one-data-engineer', 'salary': ' 19.0k–21.0k PLN ', 'localization': 'Puławska, Warszawa', 'is_remote': False, 'skills': ['# Python', '# PySpark', '# GCP', '# SQL', '# ETL']}, {'title': 'Python Developer', 'url': 'https://solid.jobs/https://solid.jobs/offer/16734/apreel-python-developer', 'salary': ' 26.0k–29.4k PLN ', 'localization': 'Domaniewska, Warszawa', 'is_remote': False, 'skills': ['# Python', '# PostgreSQL', '# MySQL', '# T-SQL', '# API', '# VBA']}, {'title': 'CI/CD DevOps Engineer (Azure)', 'url': 'https://solid.jobs/https://solid.jobs/offer/17864/itfs-ci-cd-devops-engineer-azure', 'salary': ' 25.2k–28.6k PLN ', 'localization': 'Redłowo, Gdynia', 'is_remote': False, 'skills': ['# C#', '# Azure DevOps', '# Jenkins', '# Git', '# C++', '# PowerShell', '# Terraform', '# Java', '# Python']}, {'title': 'Senior DevOps Engineer with Cloud Focus', 'url': 'https://solid.jobs/https://solid.jobs/offer/17762/mindbox-senior-devops-engineer-with-cloud-focus', 'salary': ' 27.3k–32.6k PLN ', 'localization': 'Centrum, Kraków', 'is_remote': False, 'skills': ['# GCP', '# AWS', '# Terraform', '# Ansible', '# Kubernetes', '# Docker', '# GitOps', '# Python', '# Java']}, {'title': 'Database Administrator', 'url': 'https://solid.jobs/https://solid.jobs/offer/16712/hro-digital-database-administrator', 'salary': ' 22.0k–30.5k PLN ', 'localization': 'Wadowicka 3A, Kraków', 'is_remote': False, 'skills': ['# Oracle DB', '# SQL Server', '# Linux', '# bash', '# Python', '# Google Cloud SQL', '# Splunk', '# Puppet', '# Ansible', '# Kubernetes', '# GitHub', '# Jenkins']}, {'title': 'Senior Cloud DevOps Engineer', 'url': 'https://solid.jobs/https://solid.jobs/offer/17860/mindbox-senior-cloud-devops-engineer', 'salary': ' 27.3k–32.6k PLN ', 'localization': 'Centrum, Kraków', 'is_remote': False, 'skills': ['# Java', '# Python', '# Cloud', '# AWS', '# GCP', '# Kubernetes', '# Kafka', '# Apache Airflow']}, {'title': 'Software Engineering Manager', 'url': 'https://solid.jobs/https://solid.jobs/offer/18395/speedapp-software-engineering-manager', 'salary': ' 27.7k–30.2k PLN ', 'localization': 'Bracka 25, Warszawa', 'is_remote': False, 'skills': ['# Python', '# Management']}, {'title': 'Administrator Linux', 'url': 'https://solid.jobs/https://solid.jobs/offer/18383/avenga-administrator-linux', 'salary': ' 18.5k–21.8k PLN ', 'localization': 'Przyokopowa 26, Warszawa', 'is_remote': False, 'skills': ['# Linux', '# Red Hat', '# Windows Server', '# PostgreSQL', '# Zabbix', '# Python', '# Automatyzacja']}, {'title': 'Python Developer', 'url': 'https://solid.jobs/https://solid.jobs/offer/17845/hro-digital-python-developer', 'salary': ' 23.1k–25.2k PLN ', 'localization': 'Wadowicka 3a, Kraków', 'is_remote': False, 'skills': ['# Python', '# C#', '# C++', '# Java']}, {'title': 'Data Engineer', 'url': 'https://solid.jobs/https://solid.jobs/offer/17846/scalo-data-engineer', 'salary': ' 21.8k–25.2k PLN ', 'localization': 'Aleje Jerozolimskie, Warszawa', 'is_remote': False, 'skills': ['# Python', '# Hadoop', '# Cloudera Data Platform', '# SQL', '# Spark']}, {'title': 'Senior Data Engineer', 'url': 'https://solid.jobs/https://solid.jobs/offer/17844/hro-digital-senior-data-engineer', 'salary': ' 27.3k–33.6k PLN ', 'localization': 'Wadowcka 3a, Kraków', 'is_remote': False, 'skills': ['# ETL', '# Python', '# Maven', '# Git']}]